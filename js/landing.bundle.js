!function(){"use strict";const e=document.querySelector(".sidebar-land__geo-top"),t=document.querySelector(".sidebar-land__geo-search");e.addEventListener("click",(n=>{t.classList.remove("none"),e.classList.add("none")}));const n=document.getElementById("cityInput"),l=document.getElementById("jsonData");n.addEventListener("input",function(e,t){let c;return function(){clearTimeout(c),c=setTimeout((()=>{(async()=>{const e=n.value;for(;l.firstChild;)l.removeChild(l.firstChild);if(""!==e.trim())try{l.style.display="flex";const t=await fetch("https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json"),c=(await t.json()).filter((t=>t.city.toLowerCase().includes(e.toLowerCase())));if(c.length>0){for(const e of c){let t=document.createElement("li");t.textContent=e.city,l.append(t)}const e=document.querySelector(".sidebar-land__geo-list");document.querySelectorAll(".sidebar-land__geo-list li").forEach((t=>{t.addEventListener("click",(l=>{n.value=t.textContent,e.style.display="none"}))}))}else{let e=document.createElement("li");e.textContent="Нет совпадений",l.append(e)}}catch(e){console.error("Произошла ошибка:",e)}else l.style.display="none"})()}),300)}}());const c=document.querySelectorAll(".sidebar-land__gender-input");c.forEach((e=>{e.addEventListener("click",(t=>{c.forEach((e=>{e.classList.remove("checked")})),e.classList.toggle("checked")}))})),function(){const e="_select",t=document.getElementsByClassName("filter-select-js ");for(let n=0;n<t.length;n++)if(!t[n].nextElementSibling){t[n].classList.add("hide_select");let l=t[n].getAttribute("name"),c=t[n].getAttribute("data-placeholder"),s="";c&&(s=c),t[n].insertAdjacentHTML("afterend",'\n <div class="select_common '+l+e+`">\n <div class="placeholder_select ${c&&"select-placeholder"}">`+s+'</div>\n <ul class="select_items"></ul>\n </div>');let i=t[n].nextElementSibling.querySelector(".placeholder_select");if(!i.textContent)for(let e=0;e<t[n].children.length;e++)t[n].children[e].selected&&i.insertAdjacentHTML("afterbegin",t[n].children[e].textContent);let a=t[n].getAttribute("data-fixed-placeholder");a&&t[n].nextElementSibling.querySelector(".placeholder_select").insertAdjacentHTML("afterbegin",'\n <span class="fixed_placeholder">'+a+"</span>");let d=t[n].querySelectorAll("option"),o=t[n].nextElementSibling.querySelector(".select_items");if(!o.textContent)for(let e=0;e<d.length;e++)o.insertAdjacentHTML("beforeend","\n  <li>"+d[e].textContent+"</li>")}function n(e){if(!t[e].nextElementSibling.getAttribute("data-event")){t[e].nextElementSibling.setAttribute("data-event",!0),t[e].nextElementSibling.querySelector(".placeholder_select").addEventListener("click",(function(e){let n=e.currentTarget.parentNode;for(let e=0;e<t.length;e++)n!==t[e].nextElementSibling&&t[e].nextElementSibling.classList.remove("select_active");e.currentTarget.parentNode.classList.toggle("select_active")})),t[e].nextElementSibling.addEventListener("click",(function(e){e.stopPropagation()}));let n=t[e].nextElementSibling.querySelector(".select_items").querySelectorAll("li");function l(l){n[l].addEventListener("click",(function(n){let c=n.currentTarget.textContent,s=t[e].getAttribute("data-fixed-placeholder"),i=t[e].getAttribute("data-placeholder");s?t[e].nextElementSibling.querySelector(".placeholder_select").childNodes[2].textContent=c:t[e].nextElementSibling.querySelector(".placeholder_select").textContent=c,i&&t[e].nextElementSibling.querySelector(".placeholder_select").classList.remove("select-placeholder"),t[e].nextElementSibling.classList.remove("select_active");let a=t[e].querySelectorAll("option");for(let e=0;e<a.length;e++)a[e].removeAttribute("selected");a[l].setAttribute("selected","selected")}))}for(let c=0;c<n.length;c++)l(c)}}document.addEventListener("click",(function(){for(let n=0;n<t.length;n++){let l=t[n].getAttribute("name"),c=document.querySelectorAll("."+l+e);for(let e=0;e<c.length;e++)c[e].classList.remove("select_active")}}));for(let e=0;e<t.length;e++)n(e)}();const s=document.querySelector("input#age20"),i=document.querySelector("input#age40"),a=document.querySelector("input#age60"),d=document.querySelector("input#age60plus"),o=document.querySelector(".sidebar-land__age-inputs"),r=document.querySelector(".sidebar-land__age-counter span");function u(){o.classList.contains("w-15")&&o.classList.remove("w-15"),o.classList.contains("w-50")&&o.classList.remove("w-50"),o.classList.contains("w-75")&&o.classList.remove("w-75"),o.classList.contains("w-100")&&o.classList.remove("w-100")}function m(){s.checked=!1,i.checked=!1,a.checked=!1,d.checked=!1}function g(){s.parentElement.classList.contains("checked")&&s.parentElement.classList.remove("checked"),i.parentElement.classList.contains("checked")&&i.parentElement.classList.remove("checked"),a.parentElement.classList.contains("checked")&&a.parentElement.classList.remove("checked"),d.parentElement.classList.contains("checked")&&d.parentElement.classList.remove("checked")}s.addEventListener("click",(()=>{m(),u(),g(),s.checked=!0,o.classList.add("w-15"),s.parentElement.classList.add("checked"),r.textContent="20"})),i.addEventListener("click",(()=>{m(),u(),g(),i.checked=!0,o.classList.add("w-50"),s.parentElement.classList.add("checked"),i.parentElement.classList.add("checked"),r.textContent="40"})),a.addEventListener("click",(()=>{m(),u(),g(),a.checked=!0,o.classList.add("w-75"),s.parentElement.classList.add("checked"),i.parentElement.classList.add("checked"),a.parentElement.classList.add("checked"),r.textContent="60"})),d.addEventListener("click",(()=>{m(),u(),g(),d.checked=!0,o.classList.add("w-100"),s.parentElement.classList.add("checked"),i.parentElement.classList.add("checked"),a.parentElement.classList.add("checked"),d.parentElement.classList.add("checked"),r.textContent="60+"}));const h={city:"",gender:"",goal:"",age:"",online:""};function L(e){const t=document.getElementsByName(e);for(let e=0;e<t.length;e++)if(t[e].checked)return t[e].value}const f=document.querySelector(".sidebar-land__mob-btn"),p=document.querySelector(".layout-main--landing"),E=document.querySelector(".sidebar-land__form"),y=document.getElementById("sidebarLandBtn");f.addEventListener("click",(e=>{e.preventDefault(),p.classList.toggle("none"),E.classList.toggle("sidebar-land__form--hidden"),"Показать фильтры"===f.textContent?f.textContent="Скрыть фильтры":f.textContent="Показать фильтры"})),y.addEventListener("click",(e=>{e.preventDefault(),p.classList.remove("none"),E.classList.add("sidebar-land__form--hidden"),"Показать фильтры"===f.textContent?f.textContent="Скрыть фильтры":f.textContent="Показать фильтры",h.city=document.getElementById("cityInput").value||"",h.gender=L("gender"),h.goal=function(){let e;return document.getElementsByName("goal").forEach((t=>{e=t.value})),e}(),h.age=L("ages"),h.online=!!document.getElementById("onlyOnline").checked,console.log(h)}))}();